#include "stroki.h" 

int text_compare(const char *a, const char *b) // сравниваем строки символ за символом
{
    unsigned char ca; // текущий символ первой строки
    unsigned char cb; // текущий символ второй строки
    if (a == 0 && b == 0) // обрабатываем случай двух пустых указателей
    {
        return 0; // строки считаем равными
    }
    if (a == 0) // если первая строка отсутствует
    {
        return -1; // считаем что пустая строка меньше
    }
    if (b == 0) // если вторая строка отсутствует
    {
        return 1; // непустая строка больше пустой
    }
    while (*a != '\0' && *b != '\0') // идем пока обе строки не закончились
    {
        ca = (unsigned char)*a; // читаем символ из первой строки
        cb = (unsigned char)*b; // читаем символ из второй строки
        if (ca != cb) // если символы различаются
        {
            return (int)ca - (int)cb; // возвращаем разницу символов
        }
        a++; // переходим к следующему символу первой строки
        b++; // переходим к следующему символу второй строки
    }
    ca = (unsigned char)*a; // читаем символ или 0 в конце строки a
    cb = (unsigned char)*b; // читаем символ или 0 в конце строки b
    return (int)ca - (int)cb; // возвращаем разницу символов на конце
}

int text_equals(const char *a, const char *b) // проверяем строки на равенство
{
    return text_compare(a, b) == 0; // используем сравнение и проверяем что разницы нет
}

int text_length(const char *text) // считаем длину строки
{
    int len = 0; // начинаем с нуля
    if (text == 0) // если строки нет
    {
        return 0; // длина равна нулю
    }
    while (text[len] != '\0') // идем пока не встретили конец строки
    {
        len++; // увеличиваем счетчик символов
    }
    return len; // возвращаем посчитанную длину
}

void text_copy(char *dest, const char *src) // копируем строку посимвольно
{
    if (dest == 0 || src == 0) // проверяем указатели
    {
        return; // если что-то не так, просто выходим
    }
    while (*src != '\0') // пока не дошли до конца строки
    {
        *dest = *src; // копируем текущий символ
        dest++; // двигаемся по целевой строке
        src++; // двигаемся по исходной строке
    }
    *dest = '\0'; // ставим завершающий ноль
}
